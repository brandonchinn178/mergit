query CICommit(
  $repoOwner: String!,
  $repoName: String!,
  $sha: GitObjectID!,
  $after: String,
  $appId: Int!,
  $checkName: String,
) {
  repository(owner: $repoOwner, name: $repoName) {
    object(oid: $sha) {
      ... on Commit {
        tree {
          oid
          entries {
            name
            object {
              ... on Blob {
                text
              }
            }
          }
        }
        status {
          state
          contexts {
            context
            state
            targetUrl
          }
        }
        parents(first: 5, after: $after) {
          pageInfo {
            hasNextPage
            endCursor
          }
          nodes {
            oid
            checkSuites(filterBy: { appId: $appId }, first: 1) {
              nodes {
                checkRuns(filterBy: { checkName: $checkName }, first: 2) {
                  nodes {
                    databaseId
                    name
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
