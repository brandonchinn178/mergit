query getPRForCommit(
  $repoOwner: String!,
  $repoName: String!,
  $sha: GitObjectID!,
) {
  repository(owner: $repoOwner, name: $repoName) {
    object(oid: $sha) {
      ... on Commit {
        # we expect a commit to only have one associated PR; fetch 2 so we
        # can error if we see the commit has more than 1.
        associatedPullRequests(first: 2) {
          nodes {
            number
            baseRefName
            headRefOid
            headRefName
            merged
          }
        }
      }
    }
  }
}
